# AI機能使用ガイド  

メインインターフェースの右上にツールバーがあります。![](../img/0102/ai-btn.webp) ボタンをクリックすると、AI対話機能を開始できます。  

## モード切り替え  

AIインターフェースの下部にあるモード切り替えボタンをクリックして、AIモードを切り替えることができます  
 ![](../img/0102/mode-btn.webp)  

`Q&Aモード`では、AIはプロジェクトへの読み取り権限を持ち、ワークスペース情報を収集し、ユーザーの質問に回答することができます。
`エージェントモード`では、AIはプロジェクトへの読み書き権限を持ち、プリセットされたツールやサービスを呼び出してプロジェクトを操作できますが、大量のトークンを消費します。

## よくある使用方法

エージェントモードに切り替えると、プロジェクト分析、自動プログラミング、エラー修正、ライブラリ変換など、さまざまな機能を実行できます。

### プロジェクト分析
プロジェクトの要件を入力してみてください。曖昧な要件でも構いません：

> 環境データロガーを開発したいので、設計を手伝ってください。

明確な要件でも構いません：

> ESP32とDHT22を組み合わせて温湿度データを収集し、TFカードに保存します。60秒ごとにデータを収集し、「システム時間+データ」の形式でファイルに記録します。フォーマットは「タイムスタンプ、温度、湿度\n」、例：「123456,32,45\n」

### 自動プログラミング
欲しいプログラムを直接説明し、AIが書いてくれるのを待ちます
> シリアルポートテストプログラムを書いてください：Arduino UNO R4 minimaを使用；115200ボーレートで通信；500msごとに値のセットを出力；各セットに8つのランダム値、値はカンマで区切り、単一値の範囲は0〜255；各セットは改行で終了；各セットの対応する位置の値は連続性を持ち、大きく変動しないこと。

### エラー修正
コンパイルまたはアップロードでエラーが発生した場合、詳細を表示をクリックし、ログでエラー内容を確認できます。次に、エラー内容をダブルクリックしてAI入力ボックスにエラーを送信すると、AIが処理の提案を行ったり、直接処理したりします。

### ライブラリ変換
arduino、micropython、またはその他の類似ソフトウェアのライブラリを本ソフトウェアで使用したい場合、AIを使用してライブラリを本ソフトウェアのライブラリに変換できます。プロンプトは以下の通りです：
> 「C:\Users\coloz\Downloads\xxx-lib」はarduino xxxライブラリのソースコードです。仕様に従って、このライブラリをaily blocklyライブラリに変換してください

その後、ライブラリの変換が完了するのを待ってインストールします。

## AI機能設定  
AI ASSISTANTインターフェースの右上にある設定ボタンから、AIアシスタント設定ページを開くことができます  
### 外部モデルの使用  
設定ページで、自分のLLM apikeyを入力して、より多くのモデルを呼び出すことができます。理論的にはOpenAIインターフェーススタイルのすべてのモデルをサポートしています。
### ループ回数
ループ回数は、単一のエージェント操作のリクエストの最大回数で、最大100回です。通常は変更する必要はありません。
