# 庫適配 

## 開發調試方法  

### 打開開發者模式
透過`選單 > 設定 > 開發者模式`，打開開發者模式。此時blockly工作區左下角的`庫管理`按鈕右側會出現🔁圖示，該圖示用於修改庫原始碼後，手動重新載入庫。

### 安裝庫
你可以先將庫模板或自己創建的庫，放到電腦任意位置，如`d:\lib-test`。
然後在aily blockly中打開專案，再打開終端，輸入：
```
npm i d:\lib-test
```
即可為該專案安裝上此庫。

### 重新載入庫
點擊 `專案管理` 右側的🔁圖示，即可重新載入專案，載入後，左側選單即會顯示新的庫。

### 修改庫
你可以直接修改專案目錄下`node_modules\@aily-project\<庫名稱>`，然後在aily blockly重新載入測試；
也可以修改`d:\lib-test`下的原始庫，然後再次安裝庫測試。

## 提交庫 
你可以先fork本專案到個人倉庫。然後將你新建的庫放置到其中，再提交Pull requests。
聯繫 奈何col合併，或者等待專案其他管理員合併。  
合併完成後，即會推送到npm倉庫，此後所有用戶均可使用你開發庫。

## 多語言支援  
可以在庫目錄下添加i18n目錄為庫提供多語言支援：
```
library-name  
 |- block.json             // aily blockly block檔案
 |- generator.js           // aily blockly generator檔案
 |- toolbox.json           // aily blockly toolbox檔案
 |- package.json           // npm套件管理檔案
 |- src.7z                 // Arduino庫原始檔案，請使用7z極限壓縮後放在庫中
 |- readme.md              // 說明檔案，如果使用了開源庫，請進行說明
 |- i18n                   // 多語言支援
     |- en.json            // 英文
     |- zh_cn.json         // 簡體中文
     |- zh_tw.json         // 繁體中文
     |- xxxx.json          // 其他語言
```
