# 元件編輯器 (Component Editor) 使用文檔
`內測中`
元件編輯器是一個用於創建和編輯自訂電子元件的視覺化工具。透過它，你可以定義元件的外觀、引腳佈局、功能塊以及相關屬性，並將其匯出為 JSON 配置檔案供模擬器使用。

## 1. 介面概覽

編輯器介面主要分為以下幾個區域：

### 1.1 頂部工具列 (Header)
位於介面頂部，提供全域設定和檔案操作功能：
*   **Snap (吸附)**: 開啟/關閉網格吸附功能。開啟後，拖曳元素會自動對齊到網格。
*   **Grid Size (網格大小)**: 設定網格的像素大小（僅在開啟 Snap 時有效）。
*   **Zoom (縮放)**: 控制畫布的縮放比例。
    *   `+` / `-`: 放大/縮小。
    *   `Reset`: 重設縮放比例為 100%。
*   **Import (匯入)**: 匯入現有的元件配置檔案 (`.json`)。
*   **Export (匯出)**: 將當前編輯的元件匯出為 JSON 配置檔案。
*   **Preview (預覽)**: 在新視窗中打開元件預覽器，查看元件在模擬器中的實際渲染效果。

### 1.2 左側工具列 (Left Sider)
提供添加各類元素的快捷按鈕：
*   **Add Image**: 添加圖片。支援上傳本機圖片，會自動壓縮並轉換為 WebP 格式。
*   **Add Pin**: 添加引腳 (Pin)。
*   **Add Function**: 為當前選中的引腳添加功能塊 (Function)。
*   **Add Text**: 添加文字標籤。

### 1.3 畫布區域 (Canvas)
位於介面中央，是編輯元件的主要工作區。
*   顯示元件的 Base Frame（基礎邊框）、圖片、引腳、功能塊和文字。
*   支援網格背景顯示（當 Snap 開啟時）。
*   點擊空白處並拖動可以移動畫布視野。

### 1.4 右側面板 (Properties & Element List)
包含兩個部分：
*   **Element List (元件列表)**: 顯示當前元件包含的所有元素層級結構。
    *   可以查看、選擇、刪除元素。
    *   可以鎖定/解鎖元素位置。
    *   支援拖曳調整引腳和功能塊的順序。
*   **Properties Editor (屬性編輯器)**: 顯示並編輯當前選中元素的詳細屬性。

### 1.5 底部面板 (Bottom Sider)
*   **Legend (圖例)**: 顯示當前定義的功能類型及其顏色。
*   **Editor (類型編輯)**: 點擊編輯按鈕，可以自訂功能類型（Label, Value, Color, Text Color）。

---

## 2. 基本操作

### 2.1 添加元素
*   **圖片**: 點擊左側 "Add Image" 按鈕，選擇本機圖片檔案。圖片會自動置中放置。
*   **引腳**: 點擊 "Add Pin" 按鈕，在預設位置添加一個新的引腳。
*   **功能塊**: 選中一個引腳後，點擊 "Add Function" 按鈕，為該引腳添加一個功能定義塊。
*   **文字**: 點擊 "Add Text" 按鈕，添加一個文字標籤。

### 2.2 選擇與移動
*   **選擇**: 點擊畫布上的元素或右側列表中的項目進行選擇。點擊畫布空白處選擇整個元件 (Base Frame)。
*   **移動**: 選中元素後，按住滑鼠左鍵拖動。
    *   如果開啟了 Snap，移動時會自動吸附到網格。
    *   功能塊 (Function) 的位置是相對於其所屬引腳 (Pin) 的，移動功能塊實際上是調整其標籤的相對偏移。

### 2.3 調整大小
*   **元件尺寸**: 選中元件 (Base Frame)，在屬性面板中修改 Width/Height，或直接拖曳畫布中元件的右下角（需確認是否支援拖曳調整）。
*   **圖片**: 選中圖片，拖曳圖片周圍的調整手柄（通常是右下角），或在屬性面板中精確輸入尺寸。

### 2.4 刪除元素
*   在右側 **Element List** 面板中，找到要刪除的元素，點擊右側的 **垃圾桶圖示**。

### 2.5 鎖定/解鎖
*   在 **Element List** 面板中，點擊元素右側的 **鎖圖示**。
*   鎖定後的元素無法被拖曳移動，防止誤操作。

### 2.6 排序
*   在 **Element List** 面板中，拖曳引腳 (Pin) 或功能塊 (Function) 項目，可以調整它們的顯示順序。

---

## 3. 快捷鍵操作

| 按鍵 | 功能 | 說明 |
| :--- | :--- | :--- |
| **方向鍵** | 微調位置 | 選中元素後，按 `↑` `↓` `←` `→` 移動 0.5px |
| **Shift + 方向鍵** | 快速微調 | 選中元素後，按住 `Shift` + 方向鍵移動 5px |
| **滑鼠滾輪** | 縮放畫布 | 向上滾動放大，向下滾動縮小 (10% - 300%) |

---

## 4. 屬性詳解

### Component (元件)
*   **Name**: 元件名稱。
*   **Width/Height**: 元件的基礎尺寸 (cm 或 px)。

### Pin (引腳)
*   **ID**: 引腳的唯一識別碼。
*   **Layout**: 功能塊的排列方向 (Horizontal/Vertical)。
*   **Line Type**: 連接線樣式 (Solid/Dashed)。
*   **Line Algorithm**: 連接線路徑演算法 (Direct/Bezier/Orthogonal)。

### Function (功能塊)
*   **Name**: 功能塊顯示的名稱。
*   **Type**: 功能類型（如 Digital, Analog, VCC, GND 等），決定了顯示的顏色。

### Text (文字)
*   **Content**: 文字內容。
*   **Font Size**: 字體大小。
*   **Color**: 字體顏色。
