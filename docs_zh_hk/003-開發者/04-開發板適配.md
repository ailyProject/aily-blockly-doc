# é–‹ç™¼æ¿é©é…æŒ‡å—  

## é–‹ç™¼èª¿è©¦æ–¹æ³•  

### æ‰“é–‹é–‹ç™¼è€…æ¨¡å¼
é€é`é¸å–® > è¨­å®š > é–‹ç™¼è€…æ¨¡å¼`ï¼Œæ‰“é–‹é–‹ç™¼è€…æ¨¡å¼ã€‚æ­¤æ™‚blocklyå·¥ä½œå€å·¦ä¸‹è§’çš„`åº«ç®¡ç†`æŒ‰éˆ•å³å´æœƒå‡ºç¾ğŸ”åœ–ç¤ºï¼Œè©²åœ–ç¤ºç”¨æ–¼ä¿®æ”¹åº«åŸå§‹ç¢¼å¾Œï¼Œæ‰‹å‹•é‡æ–°è¼‰å…¥åº«ã€‚

## åŸºæ–¼ç¾æœ‰é–‹ç™¼æ¿é©é…
å¦‚æœä½ çš„é–‹ç™¼æ¿ä½¿ç”¨å’Œarduinoå®˜æ–¹é–‹ç™¼æ¿ä¸€æ¨£ï¼Œä½¿ç”¨avrã€renesasï¼Œæˆ–ä½¿ç”¨esp32ï¼Œå‰‡å¯ä»¥åœ¨ç¾æœ‰é…ç½®ä¸­ï¼Œæ‰¾åˆ°é¡ä¼¼çš„é…ç½®æª”æ¡ˆï¼Œè¤‡è£½ä¸¦åœ¨æ­¤åŸºç¤ä¸Šä¿®æ”¹ã€‚  

### arduinoç›¸å®¹é–‹ç™¼æ¿é©é…  
ç•¶å‰ç‰ˆæœ¬æ”¯æ´avrå’Œrenesasæ ¸å¿ƒçš„arduinoç›¸å®¹é–‹ç™¼æ¿ï¼Œåƒè€ƒarduino_unoã€arduino_uno_r4ç›®éŒ„  

### esp32é©é…
æœ¬å€‰åº«ä¸­æº–å‚™äº†esp32ã€esp32c3ã€esp32s3 ä¸‰å€‹æ¨¡æ¿ã€‚ç¢ºå®šä½ çš„é–‹ç™¼æ¿æ ¸å¿ƒå‹è™Ÿï¼Œç„¶å¾Œè¤‡è£½å°æ‡‰çš„è³‡æ–™å¤¾ï¼Œæ”¹æˆä½ çš„é–‹ç™¼æ¿åç¨±ï¼Œç„¶å¾Œå†å°æ‡‰ä¿®æ”¹package.jsonã€board.jsonæª”æ¡ˆå³å¯ã€‚
`/template`ä¸­æ˜¯å°ˆæ¡ˆåˆå§‹æ¨¡æ¿å°ˆæ¡ˆï¼Œå¦‚æœä½ çš„é–‹ç™¼æ¿è‡ªå¸¶äº†ä¸€äº›åº«ï¼Œå¯ä»¥æ·»åŠ åˆ°`/template/package.json`ä¸­ï¼Œé€™æ¨£ç”¨æˆ¶åœ¨æ–°å»ºå°ˆæ¡ˆå¾Œï¼Œå°±æœƒè‡ªå‹•è¼‰å…¥å°æ‡‰çš„åº«ã€‚  

### STM32é©é…  
å¾…å¯«  

### æ¨¹è“æ´¾RPç³»åˆ—MCUé©é…  
å¾…å¯«  

### ç·¨è­¯åƒæ•¸è‡ªè¨‚é©é…
é–‹ç™¼æ¿çš„ç·¨è­¯åƒæ•¸é…ç½®åœ¨æ¨¡ç‰ˆ`board.json`æª”æ¡ˆä¸­çš„`compilerParam`åƒæ•¸ä¸­é…ç½®ã€‚å¦‚æœæœ‰ç‰¹æ®Šçš„ç·¨è­¯é…ç½®éœ€æ±‚å¯æ¡ç”¨é¡ä¼¼å¦‚ä¸‹æ–¹å¼çš„é€²è¡Œé…ç½®ï¼ˆèˆ‡arduino-cliçš„ä½¿ç”¨æ–¹å¼ä¸€æ¨£ï¼‰ã€‚
```
compile -b esp32:esp32:esp32c3 --build-property build.flash_mode=dio --build-property build.flash_freq=80m --build-property build.flash_size=4MB
compile -b arduino:avr:uno --build-property build.extra_flags=\"-DMY_DEFINE=\"hello world\"\""
compile -b arduino:avr:uno --build-property build.extra_flags=-DPIN=2 \"-DMY_DEFINE=\"hello world\"\"" /home/user/Arduino/MySketch` + "\n" +
compile -b arduino:avr:uno --build-property build.extra_flags=-DPIN=2 --build-property "compiler.cpp.extra_flags=\"-DSSID=\"hello world\"\"" /home/user/Arduino/MySketch` + "\n",
```

### ä¸Šå‚³åƒæ•¸è‡ªè¨‚é©é…

```
avrdude -C${'avrdude.conf'} -v -V -patmega328p -carduino -P${serial} -b${baud} -D -Uflash:w:${file}:i;

esptool --chip esp32s3 --port ${serial} --baud ${baud} --before default_reset --after hard_reset write_flash -z --flash_mode keep --flash_freq keep --flash_size keep 0x0 ${bootloader} 0x8000 ${partitions} 0xe000 ${boot_app0} 0x10000 ${file}

bossac -d --port=${serial} -a -U -e -w ${file} -R
[--use_1200bps_touch, --wait_for_upload] bossac -d --port=${serial} -a -U -e -w ${file} -R

dfu-util --device 0x2341:0x0069,:0x0369 -D ${file} -a0 -Q
```

å¯æ›¿æ›è®Šæ•¸ï¼š

- `${serial}`
- `${baud}`
- `${file}`
- `${bootloader}`
- `${partitions}`
- `${boot_app0}`

å­—ä¸²å¸¸é‡ï¼š

- `${"æª”æ¡ˆå"}`

éœ€è¦ä½¿ç”¨--use_1200bps_touchå’Œ--wait_for_uploadçš„æƒ…æ³ï¼šä»¥"[]"åŒ…è£¹æ”¾åœ¨æœ€å‰é¢


### å®‰è£åº«
ä½ å¯ä»¥å…ˆå°‡åº«æ¨¡æ¿æˆ–è‡ªå·±å‰µå»ºçš„åº«ï¼Œæ”¾åˆ°é›»è…¦ä»»æ„ä½ç½®ï¼Œå¦‚`d:\arduino_test`ã€‚
ç„¶å¾Œåœ¨aily blocklyä¸­æ‰“é–‹å°ˆæ¡ˆï¼Œå†æ‰“é–‹çµ‚ç«¯ï¼Œè¼¸å…¥ï¼š
```
npm i d:\arduino_test
```
å³å¯ç‚ºè©²å°ˆæ¡ˆå®‰è£ä¸Šæ­¤é–‹ç™¼æ¿ã€‚

### é‡æ–°è¼‰å…¥åº«
é»æ“Š `å°ˆæ¡ˆç®¡ç†` å³å´çš„ğŸ”åœ–ç¤ºï¼Œå³å¯é‡æ–°è¼‰å…¥å°ˆæ¡ˆã€‚

### ä¿®æ”¹åº«
ä½ å¯ä»¥ç›´æ¥ä¿®æ”¹å°ˆæ¡ˆç›®éŒ„ä¸‹`node_modules\@aily-project\<é–‹ç™¼æ¿åç¨±>`ï¼Œç„¶å¾Œåœ¨aily blocklyé‡æ–°è¼‰å…¥æ¸¬è©¦ï¼›
ä¹Ÿå¯ä»¥ä¿®æ”¹`d:\arduino_test`ä¸‹çš„åŸå§‹é–‹ç™¼æ¿æª”æ¡ˆï¼Œç„¶å¾Œå†æ¬¡å®‰è£åº«æ¸¬è©¦ã€‚

## æäº¤åº« 
ä½ å¯ä»¥å…ˆforkæœ¬å°ˆæ¡ˆåˆ°å€‹äººå€‰åº«ã€‚ç„¶å¾Œå°‡ä½ æ–°å»ºçš„é–‹ç™¼æ¿é…ç½®æ”¾ç½®åˆ°å…¶ä¸­ï¼Œå†æäº¤Pull requestsã€‚
è¯ç¹« å¥ˆä½•colåˆä½µï¼Œæˆ–è€…ç­‰å¾…å°ˆæ¡ˆå…¶ä»–ç®¡ç†å“¡åˆä½µã€‚  
åˆä½µå®Œæˆå¾Œï¼Œå³æœƒæ¨é€åˆ°npmå€‰åº«ï¼Œæ­¤å¾Œæ‰€æœ‰ç”¨æˆ¶å‡å¯ä½¿ç”¨ä½ é–‹ç™¼åº«ã€‚
